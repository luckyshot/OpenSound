OpenSound={config:{interval:5},tracklist:function(){"use strict";$.ajax({url:"tracklist"}).done(function(e){for(var t in e)$("#playlist").append("<li>"+e[t]+"</li>")})},status:function(){"use strict";$.ajax({url:"status/"+encodeURIComponent(localStorage.devicename)}).done(function(e){console.log(e);var t=document.getElementById("audio");console.log(t.src);console.log("?action=file&value="+e.song);if(t.src.indexOf(encodeURIComponent(e.song))<0){t.src="?action=file&value="+e.song;t.play()}$("#vol").val(e.vol);document.getElementById("audio").volume=e.vol/100;$("#artist").html(e.song)})}};$("#playlist").on("click","li",function(){$.ajax({url:"play/"+encodeURIComponent($(this).html())}).done(function(e){var t=document.getElementById("audio");t.src="?action=file&value="+$(this).html();t.play()})});$("#vol").on("change",function(){document.getElementById("audio").volume=$(this).val()/100;$.ajax({url:"vol/"+$(this).val()}).done(function(e){console.log("vol (change):");console.log(e)})});$("#devicename").on("input paste",function(){localStorage.devicename=$(this).val()});$(document).ready(function(){typeof localStorage.devicename=="undefined"&&(localStorage.devicename="device-"+Math.floor(Math.random()*999+100));$("#devicename").val(localStorage.devicename);OpenSound.tracklist();OpenSound.status();var e=setInterval(function(){OpenSound.status()},OpenSound.config.interval*1e3)});