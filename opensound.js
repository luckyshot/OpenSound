OpenSound={config:{interval:5},status:function(e){"use strict";$.ajax({url:"status/"+encodeURIComponent(localStorage.devicename)}).done(function(e){console.log(e);var t=document.getElementById("audio");console.log(t.src);console.log("file/"+e.song);if(t.src.indexOf(encodeURIComponent(e.song))<0){t.src="file/"+e.song;t.play()}$("#vol").val(e.vol);document.getElementById("audio").volume=e.vol/100;$("#artist").html(e.song)})},playlist:function(){"use strict";$.ajax({url:"playlist"}).done(function(e){for(var t in e)$("#playlist").append("<li>"+e[t]+"</li>")})},clients:function(){"use strict";$.ajax({url:"clients/"}).done(function(e){console.log(e)})},file:function(e){"use strict";$.ajax({url:"file/"+e}).done(function(e){console.log(e)})},browse:function(e){"use strict";$.ajax({url:"browse/"+e}).done(function(e){console.log(e)})},add:function(e){"use strict";$.ajax({url:"add/"+e}).done(function(e){console.log(e)})},remove:function(e){"use strict";$.ajax({url:"remove/"+e}).done(function(e){console.log(e)})},play:function(e){"use strict";$.ajax({url:"play/"+e}).done(function(e){console.log(e)})},pause:function(){"use strict";$.ajax({url:"pause/"+file}).done(function(e){console.log(e)})},pos:function(e){"use strict";$.ajax({url:"pos/"+e}).done(function(e){console.log(e)})},name:function(e){"use strict";localStorage.devicename=e},client:function(e,t){"use strict";$.ajax({url:"client/"+e+"/"+t}).done(function(e){console.log(e)})},clientvol:function(e,t){"use strict";$.ajax({url:"client/"+e+"/vol/"+t}).done(function(e){console.log(e)})}};$("#playlist").on("click","li",function(){$.ajax({url:"play/"+encodeURIComponent($(this).html())}).done(function(e){var t=document.getElementById("audio");t.src="file/"+$(this).html();t.play()})});$("#vol").on("change",function(){document.getElementById("audio").volume=$(this).val()/100;$.ajax({url:"vol/"+$(this).val()}).done(function(e){console.log("vol (change):");console.log(e)})});$("#devicename").on("input paste",function(){OpenSound.name($(this).val())});$(document).ready(function(){typeof localStorage.devicename=="undefined"&&(localStorage.devicename="device-"+Math.floor(Math.random()*999+100));$("#devicename").val(localStorage.devicename);OpenSound.playlist();OpenSound.status();var e=setInterval(function(){OpenSound.status()},OpenSound.config.interval*1e3)});